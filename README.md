# secondDemo
比特币十个随机区块的挖矿时间及其概率分布：

1. 区块高度 658418，挖矿时间 2018.0 秒，概率分布 12.41%。
2. 区块高度 658537，挖矿时间 1895.0 秒，概率分布 14.39%。
3. 区块高度 658884，挖矿时间 2085.0 秒，概率分布 15.80%。
4. 区块高度 659460，挖矿时间 2133.0 秒，概率分布 16.18%。
5. 区块高度 659864，挖矿时间 1179.0 秒，概率分布 8.94%。
6. 区块高度 659887，挖矿时间 3145.0 秒，概率分布 23.88%。
7. 区块高度 660361，挖矿时间 2366.0 秒，概率分布 17.99%。
8. 区块高度 660669，挖矿时间 2566.0 秒，概率分布 19.50%。
9. 区块高度 661101，挖矿时间 600.0 秒，概率分布 4.56%。
10. 区块高度 661272，挖矿时间 1029.0 秒，概率分布 7.83%。

在使用PoW共识机制的区块链网络，存在一种攻击手段：51%攻击。51%攻击是指掌握了比特币全网的51%算力之后，并且手里有大量比特币，用这些算力来重新计算已经确认过的区块，使块链产生分叉并且获得利益的行为。
使用这种攻击手段目前来说可以达成两种目的：
目的1：双花攻击，将同一笔钱花两次。
目的2：交易抑制，阻止别人在网络中产生交易。
51攻击不能做什么
51攻击不能修改协议，例如：
1.不能把别人的币变成自己的币。
2.不能增加比特币的产量。
3.不能阻止别人把交易发出去。（显示0确认）
51攻击能做什么
1.拒绝当前一笔交易。
2.拒绝当前的所有交易，打空块。
3.回滚最近的一笔交易或多笔交易。
4.让其它矿工最近挖到的区块无效。
攻击者如何发动攻击：
1、把比特币转到交易所或某个机构或个人，卖出所有比特币，并且收到钱、把钱提现到银行帐号(提现目的是为确保收益，也可不用提现)。这个时间越短越好，能大大节省攻击时间。
2、用51%算力从还没向交易所转币的区块开始重新生成区块
比如：向交易所转币的区块为第30万个区块，攻击者就在第29万99个区块开始重新生成区块。
3、因为攻击者有51%算力，而且假设他能在攻击过程中保证一直51%算力，所以他的攻击一定成功，也就是说他生成的攻击块链一定能追上原块链。
4、当攻击块链的长度超过原块链2个区块，所有的客户端将丢弃原块链，接受攻击块链。至此，51%攻击成功。
51%攻击方法说明如下
1、这是一种能够获得最大利益的51%攻击方法，因为我们假定攻击者是理性的、为获得利益而攻击，而非一心置比特币于死地而不求任何回报的疯子。
2、无需51%算力就可以发动51%攻击，比如45%算力，有成功可能性，但非确定性成功。有这么一个场景：原块链长度30万，攻击者具备45%算力，从29万9999个区块开始计算，运气好的话，攻击块链延长到30万零2个，而原块链还是30万长度，攻击就成功了。这种攻击影响的区块数量少，如果币数量小，则被发现的可能性很小。目前大家担心的是这种情况。本人认为，虽然连续产出3个区块的可能性不大，但不是没有出现过，ghash.io就出现过连续产出5-6个区块的情况。因而这种非51%攻击的可能性完全存在，比特币世界要时刻监控、密切注意。
3、有人说多等几个确认就能避免51%攻击。这话有严重问题。如果是非51%算力的攻击，多等几个确认是有效的，数量特别大的比特币转帐应该等几天。但是如果是51%算力攻击，就应该知道，如果攻击者能一直保持51%算力，他可以从比特币最近检查点之后的区块开始重新计算，攻击块链能追上原块链，成功只是时间问题。如果攻击花费了1年时间，也要等1年的确认吗，因而这种认识不全面。
4、攻击块链可以隐藏地计算，直到比原块链多两个块链后才放出，按照目前的比特币网络协议，可以马上取代原块链，因而整个攻击可以不为人所知，直至最后一时刻。
如何避免51%攻击
无论哪种共识机制本质上都是通过依靠恶意的节点没有超过共识机制的抗攻击数，来保证不影响正确的共识结果。这种做法体现了完全的去中心化精神，但换言之，他们都没有对节点“质量”判断的能力，无法选拔出高质量的节点作为代表达成共识。我们便可以从选拔高质量节点这里入手。这里再引入一个概念，叫做小世界网络。我们知道，为数众多的节点与节点之间连边数构成了网络。网络的规模可以由网络平均路径长度和网络群聚系数这两个参数来度量，网络平均路径长度指的是网络中任意两个节点最短距离的平均值，网络群聚系数指的是这个节点与所有邻居节点之间的实际连边数除以这些邻居节点之间可能出现的最大连边数。而小世界网络指的就是平均路径长度较短，而网络群聚系数较大的网络。我们可以运用小世界网络理念，通过信任传递，仅选取少数优质节点作为代表来达成共识，这样大大提高了系统的安全可信性，足以突破传统区块链51%攻击的安全上限，参与共识节点数量减少了，也实现了效率的提升。而效率往往与数量成反比，参与验证的节点数量越多，耗时越长，效率越低。这样安全性大大提升。
